<!doctype html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="./index.css">
    <title>Universefy Server</title>
    <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Nunito"/>
  </head>
  <body>
    <main>
      <h1>Welcome to the <a href="http://localhost:3000" target="_blank" rel="noopener noreferrer">universefy</a> Server</h1>
      <article>
        <h2>Acquiring the <code>auth_token</code> & <code>refresh_token</code></h2>
        <h4>Getting in to the authorization page</h4>
        <ul>
          <li>The web app will redirect the user to the server's <code>/login</code> page</li>
          <li>Redirect to <code>https://accounts.spotify.com/authorize?</code></li>
          <li>Insert to the URI query <code>response_type</code> <code>client_id</code> <code>scope</code> <code>redirect_uri</code> <code>state</code></li>
        </ul>
        <h4>Generating the <code>auth_token</code> & <code>refresh_token</code></h4>
        <ul>
          <li>The Spotify page will prompt a message to the user containing information about the application</li>
          <li>Redirect to the server's <code>/callback</code> page</li>
          <li>Make a <code>POST</code> request to <code>https://accounts.spotify.com/api/token</code> containing this parameters:</li>
          <ul>
            <li>Header 
              <ul>
                <li><code>client_id</code> + <code>client_secret</code></li>
              </ul>
            </li>
            <li>Body 
              <ul>
                <li><code>code</code></li>
                <li><code>redirect_uri</code></li>
                <li><code>grant_type</code></li>
              </ul>
            </li>
          </ul>
        </ul>
        <h4>Returning the <code>auth_token</code> & <code>refresh_token</code></h4>
        <ul>
          <li>Receive the <code>access_token</code> and <code>refresh_token</code> through the <code>POST</code> request</li>
          <li>Redirect to the Universefy search page inserting <code>access_token</code> and <code>refresh_token</code> through the query</li>
        </ul>
      </article>
    </main>
    <footer>
      <p>This is the server side aplication for the Universefy app.</p>
        <p>This is a quick-start guide, visit this server <a href="https://github.com/pepeyen/universefy-server" target="_blank" rel="noopener noreferrer">repository</a> to learn more.</p>
        <p>This application follows 'Authorization Code' flow by spotify take a look <a href="https://developer.spotify.com/documentation/general/guides/authorization-guide/" target="_blank" rel="noopener noreferrer">here</a> to read the documentation</p>
    </footer>
  </body>
</html>

